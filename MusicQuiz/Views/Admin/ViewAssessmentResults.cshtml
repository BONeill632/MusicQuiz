@{
    ViewData["Title"] = "Quiz Analytics - All Assessments";
}

<h1>@ViewData["Title"]</h1>
<hr />
<p class="text-center">Explore all assessment results, sorted by the most recent first.</p>

<!-- Back Button -->
<div class="text-center" style="display: flex; justify-content: center; align-items: center;">
    <a href="javascript:history.back()" class="btn btn-secondary">Back</a>
</div>

<!-- Quiz Results for All Assessments -->
<div class="mt-4">
    <h3 class="centered mt-4">All Quiz Assessments</h3>
    @if (ViewBag.AllResults != null && ((List<MusicQuiz.Web.Models.Admin.QuizResultModel>)ViewBag.AllResults).Any())
    {
        <table class="table table-modern">
            <thead>
                <tr>
                    <th>Assessment</th>
                    <th>User</th>
                    <th>Score</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var result in ViewBag.AllResults)
                {
                    <tr>
                        <td>@result.SelectedTopic</td>
                        <td>@result.Forename @result.Surname</td>
                        <td>@result.UserScore.ToString("0.00")%</td>
                        <td>@result.DateOfSubmission.ToString("yyyy-MM-dd HH:mm")</td>
                        
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p class="text-center">No assessment results available.</p>
    }
</div>
